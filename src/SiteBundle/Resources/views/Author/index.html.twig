{% extends "::base.html.twig" %}

{% block title %}SiteBundle:Author:index{% endblock %}

{% block body %}
    {# lsit of authors in database #}
    <div class="row">
        <div class="col-md-8 mx-auto">
            <table class="table table-hover">
               <thead>
                   <tr>
                      <th>FirstName</th>
                      <th>LastName</th>
                   </tr>
               </thead>
               <tbody>
               {% for author in authors  %}
                    <tr>
                    
                        <td>{{ author.firstName }}</td>
                        <td>{{ author.lastName }}</td>
                    
                    </tr> 
                    {% if author.posts.count > 0 %}
                    <tr>
                      <td colspan="2">
                         <ul class="list-group">
                            {% for post in author.posts %}
                             <li class="list-group-item">
                                <h3>{{ post.title }}</h3>
                                <p>{{ post.content }}</p>
                             </li>
                            {% endfor %} 
                         </ul>
                      </td>
                    </tr>
                    {% endif %}
                {% endfor %}
               </tbody>
            </table>
        </div>
    </div>

{% endblock %}
